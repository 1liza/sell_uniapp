{"version":3,"sources":["uni-app:///pages/components/Food/Food.vue","webpack:///D:/code/Program/meituan_first_uniapp/meituan_first_uniapp/pages/components/Food/Food.vue?2917","webpack:///D:/code/Program/meituan_first_uniapp/meituan_first_uniapp/pages/components/Food/Food.vue?d360","webpack:///D:/code/Program/meituan_first_uniapp/meituan_first_uniapp/pages/components/Food/Food.vue?4891","webpack:///D:/code/Program/meituan_first_uniapp/meituan_first_uniapp/pages/components/Food/Food.vue?f7f0","webpack:///D:/code/Program/meituan_first_uniapp/meituan_first_uniapp/pages/components/Food/Food.vue?3853","webpack:///D:/code/Program/meituan_first_uniapp/meituan_first_uniapp/pages/components/Food/Food.vue?855d"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA;AACA;AACA,qE;AACA,Y;;AAEA;AACA;AACA;AACA,kBADA,EADA,EADA;;;AAMA,MANA,kBAMA;AACA;AACA,qBADA;AAEA,qBAFA;AAGA,uBAHA;;AAKA,GAZA;AAaA;AACA,4BADA;AAEA,gCAFA;AAGA,gBAHA,EAbA;;AAkBA;AACA,QADA,kBACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;;AAGA,SALA,MAKA;AACA;AACA;AACA,OATA;AAUA,KAfA;AAgBA,cAhBA,wBAgBA;AACA;AACA,KAlBA;AAmBA,WAnBA,mBAmBA,MAnBA,EAmBA;AACA;AACA,KArBA;AAsBA,YAtBA,oBAsBA,KAtBA,EAsBA;AACA;AACA;AACA;AACA;AACA,KA3BA;AA4BA,iBA5BA,yBA4BA,IA5BA,EA4BA;AACA;AACA;AACA;AACA,OAFA;AAGA,KAjCA;AAkCA,iBAlCA,2BAkCA;AACA;AACA;AACA;AACA,OAFA;AAGA,KAvCA;AAwCA,YAxCA,oBAwCA,IAxCA,EAwCA,IAxCA,EAwCA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAjDA,EAlBA;;AAqEA;AACA,cADA,sBACA,IADA,EACA;AACA;AACA;AACA,KAJA,EArEA,E;;;;;;;;;;;;AC9DA;AAAA;AAAA;AAAA;AAAqwC,CAAgB,uuCAAG,EAAC,C;;;;;;;;;;;ACAzxC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACwC;;;AAG3F;AACoL;AACpL,gBAAgB,6LAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAAyqB,CAAgB,8rBAAG,EAAC,C","file":"pages/components/Food/Food.js","sourcesContent":["<template>\r\n  <transition name=\"move\">\r\n    <div class=\"good\" v-show=\"showFlag\" ref=\"food\">\r\n      <div class=\"food-content\">\r\n        <div class=\"title\">\r\n          <div class=title-pic>\r\n            <img :src=\"food.image\">\r\n            <span class=\"iconfont goback\" @click=\"returnpage\">&#xe659;</span>\r\n          </div>\r\n          <div class=\"title-content bar\">\r\n            <div class=\"title-name\">{{food.name}}</div>\r\n            <div class=\"title-sell\">\r\n              <span class=\"sell-num\">月售{{food.sellCount}}份</span>\r\n              <span class=\"sell-ratting\">好评率{{food.rating}}%</span>\r\n            </div>\r\n            <span class=\"buy-price\">￥{{food.price}}</span>\r\n            <span class=\"buy-add\" @click.stop.prevent=\"firstAdd\" v-show=\"!food.count || food.count==0\">加入购物车</span>\r\n            <div class=\"cartcontrol-wrapper\" v-show=\"food.count\">\r\n              <cartcontrol @add=\"addFood\" :food=\"food\"></cartcontrol>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <split></split>\r\n        <div class=\"introduce\">\r\n          <div class=intro-title>商品介绍</div>\r\n          <div class=\"intro-content\">{{food.info}}</div>\r\n        </div>\r\n        <split></split>\r\n        <div class=\"comment\">\r\n          <div class=\"comment-head\">商品评价</div>\r\n          <rattingselect @select=\"selectRatting\" @toggle=\"toggleContent\" :onlyContent=\"onlyContent\" :selectType=\"selectType\" :ratings=\"food.ratings\"></rattingselect>\r\n          <div class=\"ratting-wrapper\">\r\n            <ul v-show=\"food.ratings && food.ratings.length\">\r\n              <li v-show=\"needShow(rating.rateType, rating.text)\" v-for=\"(rating, index) in food.ratings\" :key=\"index\" class=\"rating-item\">\r\n                <div class=\"user\">\r\n                  <div class=\"name\">{{rating.username}}</div>\r\n                  <img class=\"avatar\" :src=\"rating.avatar\">\r\n                </div>\r\n                <div class=\"time\">{{rating.rateTime | formatDate}}</div>\r\n                <div class=\"content\">\r\n                  <span class=\"iconfont thumb\">{{rating.rateType===1?'&#xe658;':'&#xe76c;'}}</span>\r\n                  <span class=\"text\">{{rating.text}}</span>\r\n                  </div>\r\n              </li>\r\n            </ul>\r\n            <div class=\"no-ratting\" v-show=\"!food.ratings || !food.ratings.length\">暂无评价</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\nimport cartcontrol from '../Cartcontrol/Cartcontrol'\r\nimport rattingselect from '../Rattingselect/Rattingselect'\r\nimport split from '../Split/split'\r\nimport { formatDate } from '../../common/js/date.js'\r\nimport BScroll from 'better-scroll'\r\nimport Vue from 'vue'\r\nconst ALL = 2\r\n\r\nexport default {\r\n  props: {\r\n    food: {\r\n      type: Object\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      showFlag: false,\r\n      selectType: ALL,\r\n      onlyContent: true\r\n    }\r\n  },\r\n  components: {\r\n    cartcontrol,\r\n    rattingselect,\r\n    split\r\n  },\r\n  methods: {\r\n    show () {\r\n      this.showFlag = true\r\n      this.onlyContent = true\r\n      this.selectType = ALL\r\n      this.$nextTick(() => {\r\n        if (!this.scroll) {\r\n          // console.log('初始化滑动')\r\n          this.scroll = new BScroll(this.$refs.food, {\r\n            click: true\r\n          })\r\n        } else {\r\n          this.scroll.refresh()\r\n        }\r\n      })\r\n    },\r\n    returnpage () {\r\n      this.showFlag = false\r\n    },\r\n    addFood (target) {\r\n      this.$emit('add', target)\r\n    },\r\n    firstAdd (event) {\r\n      if (event._constructed) {\r\n        this.$emit('add', event.target)\r\n        Vue.set(this.food, 'count', 1)\r\n      }\r\n    },\r\n    selectRatting (type) {\r\n      this.selectType = type\r\n      this.$nextTick(() => {\r\n        this.scroll.refresh()\r\n      })\r\n    },\r\n    toggleContent () {\r\n      this.onlyContent = !this.onlyContent\r\n      this.$nextTick(() => {\r\n        this.scroll.refresh()\r\n      })\r\n    },\r\n    needShow (type, text) {\r\n      if (this.onlyContent && !text) {\r\n        return false\r\n      }\r\n      if (this.selectType === ALL) {\r\n        return true\r\n      } else {\r\n        return type === this.selectType\r\n      }\r\n    }\r\n  },\r\n  filters: {\r\n    formatDate (time) {\r\n      const date = new Date(time)\r\n      return formatDate(date, 'yyyy-MM-dd hh:mm')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n@imoprt '../../common/stylus/mixin.styl'\r\n.good\r\n  z-index: 30\r\n  position: fixed\r\n  top: 0\r\n  left: 0\r\n  bottom: 48px\r\n  width: 100%\r\n  background: #fff\r\n  color: rgb(147,153,159)\r\n  font-size: 0\r\n  transform: translate3d(0,0,0)\r\n  &.move-enter-active, &.move-leave-active\r\n    transition: all 0.2s linear\r\n  &.move-enter, &.move-leave-to\r\n    transform: translate3d(100%,0,0)\r\n  .title\r\n    .title-pic\r\n      position: relative\r\n      // width: 100%\r\n      // height: 0\r\n      // padding-top: 100%\r\n      img\r\n        height: 375px\r\n        width: 100%\r\n        object-fit: cover\r\n        // position: absolute\r\n        // top:0\r\n        // left: 0\r\n        // width: 100%\r\n        // height: 100%\r\n      .goback\r\n        position: fixed\r\n        top: 10px\r\n        left: 10px\r\n        padding: 4px\r\n        font-size: 24px\r\n        background: rgba(255,255,255,0.2)\r\n        border-radius : 50%\r\n    .title-content\r\n      padding: 18px\r\n      position: relative\r\n      // bar(#f3f5f7)\r\n      .title-name\r\n        font-size: 14px\r\n        font-weight: 700\r\n        line-height: 14px\r\n        color: rgb(7,17,27)\r\n      .title-sell\r\n        margin: 8px 0 18px 0\r\n        .sell-num, .sell-ratting\r\n          padding-right: 12px\r\n          font-size: 10px\r\n          line-height: 10px\r\n      .buy-price\r\n        font-size: 14px\r\n        font-weight: 700\r\n        color:rgb(240, 20, 20)\r\n        // float:left\r\n      .buy-add\r\n        position: absolute\r\n        bottom: 18px\r\n        right: 18px\r\n        font-size: 10px\r\n        padding: 6px 12px\r\n        border-radius: 12px\r\n        color: rgb(255,255,255)\r\n        background: rgb(0, 160, 220)\r\n      .cartcontrol-wrapper\r\n        position: absolute\r\n        bottom: 12px\r\n        right: 18px\r\n  .introduce\r\n    padding: 18px\r\n    .intro-title\r\n      font-size: 14px\r\n      line-height: 14px\r\n      font-weight: 500\r\n      color: rgb(7,17,27)\r\n      padding-bottom: 6px\r\n    .intro-content\r\n      padding: 0 8px\r\n      font-size: 12px\r\n      font-weight: 200\r\n      line-height: 20px\r\n  .comment\r\n    color: rgb(7,17,27)\r\n    padding-top: 18px\r\n    .comment-head\r\n      padding-left: 18px\r\n      font-size: 14px\r\n      line-height: 14px\r\n      font-weight: 500\r\n      color: rgb(7,17,27)\r\n    .ratting-wrapper\r\n      padding: 0 18px\r\n      .rating-item\r\n        padding: 16px 0\r\n        box-sizing: border-box\r\n        position: relative\r\n        height: 70px\r\n        border-bottom: 1px solid rgba(7,17,27, 0.1)\r\n        &:last-child\r\n          border: none\r\n        .user\r\n          position: absolute\r\n          top: 16px\r\n          right: 0\r\n          .name\r\n            display: inline-block\r\n            font-size: 10px\r\n            line-height: 12px\r\n            padding-right: 6px\r\n          .avatar\r\n            width: 12px\r\n            height: 12px\r\n            vertical-align: top\r\n        .time\r\n          // position: absolute\r\n          // top:16px\r\n          // left: 0\r\n          font-size: 10px\r\n          line-height: 12px\r\n        .content\r\n          margin-top:6px\r\n          .thumb\r\n            font-size: 12px\r\n            line-height: 16px\r\n            padding-right: 4px\r\n          .text\r\n            font-size: 12px\r\n            line-height: 16px\r\n    .no-ratting\r\n      padding-left: 18px\r\n      font-size: 14px\r\n      line-height: 14px\r\n      font-weight: 500\r\n      color: rgb(7,17,27)\r\n</style>\r\n","import mod from \"-!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--11-oneOf-1-0!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--11-oneOf-1-1!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-2!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--11-oneOf-1-3!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\stylus-loader\\\\index.js??ref--11-oneOf-1-4!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-5!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Food.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--11-oneOf-1-0!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--11-oneOf-1-1!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-2!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--11-oneOf-1-3!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\stylus-loader\\\\index.js??ref--11-oneOf-1-4!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-5!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Food.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1596300022707\n      var cssReload = require(\"F:/work_programs/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import { render, staticRenderFns, recyclableRender, components } from \"./Food.vue?vue&type=template&id=942da6a2&\"\nvar renderjs\nimport script from \"./Food.vue?vue&type=script&lang=js&\"\nexport * from \"./Food.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Food.vue?vue&type=style&index=0&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/components/Food/Food.vue\"\nexport default component.exports","export * from \"-!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Food.vue?vue&type=template&id=942da6a2&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.food.ratings, function(rating, index) {\n    var m0 = _vm.needShow(rating.rateType, rating.text)\n\n    var f0 = _vm._f(\"formatDate\")(rating.rateTime)\n\n    return {\n      $orig: _vm.__get_orig(rating),\n      m0: m0,\n      f0: f0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Food.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\work_programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./Food.vue?vue&type=script&lang=js&\""],"sourceRoot":""}